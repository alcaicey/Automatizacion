diff --git a/src/scripts/bolsa_service.py b/src/utils/db_io.py
copy from src/scripts/bolsa_service.py
copy to src/utils/db_io.py
@@
-from src.config import LOGS_DIR
-from src.extensions import socketio
-
-# ------------- funciones de DB & JSON -----------------
-
-def _build_price_summary(rows: List[Dict[str, Any]], ts: datetime) -> str:
-    ...
-
-def store_prices_in_db(json_path: str, app=None):
-    ...
-
-def get_latest_data():
-    ...
-
-def compare_last_two_db_entries():
-    ...
+# mÃ³dulo trasladado: utils/db_io.py
+from __future__ import annotations
+
+import os, json, re, glob, hashlib, logging
+from datetime import datetime
+from typing import Any, Dict, List, Optional, Tuple
+
+from sqlalchemy.dialects.postgresql import insert
+
+from src.config import LOGS_DIR
+from src.extensions import socketio
+from src.models import db
+from src.models.stock_price import StockPrice
+from src.models.last_update import LastUpdate
+
+# -------- funciones originales movidas desde bolsa_service.py --------
+
+def _build_price_summary(rows: List[Dict[str, Any]], ts: datetime) -> str:
+    ...
+
+def store_prices_in_db(json_path: str, app=None):
+    ...
+
+def get_latest_data():
+    ...
+
+def compare_last_two_db_entries():
+    ...
+
+# ---------------------------------------------------------------------
+
+__all__ = [
+    "_build_price_summary",
+    "store_prices_in_db",
+    "get_latest_data",
+    "compare_last_two_db_entries",
+]
